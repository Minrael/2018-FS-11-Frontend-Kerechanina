!function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",o=t[3];if(!o)return e;if(n&&"function"==typeof btoa){var i=(r=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),s=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[e].concat(s).concat([i]).join("\n")}var r;return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(o[s]=!0)}for(i=0;i<t.length;i++){var r=t[i];"number"==typeof r[0]&&o[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]="("+r[2]+") and ("+e+")"),n.push(r))}},n}},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,"input {\n\tborder: 0;\n\toutline: none;\n\twidth: calc(100% - 2px);\n\tfont-size: 40px;\n}\n\n:host {\n\tdisplay: inline-block;\n\tborder: 1px solid rgba(25, 25, 25, 0.32);\n\theight: 50px;\n\tfont-size: 40px;\n}\n\nimg {\n\theight: 50px;\n}\n\nbutton {\n\tbackground: white;\n\tborder: none;\n}\n\n.attachButoon {\n\tbackground: white;\n\tborder: none;\n}\n\t\t\n",""])},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,"form-input {\n\tpadding: 10px 5px;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tfont-size: 40px\n}\n\n.result {\n\tcolor: red;\n}\n\ninput[type=submit] {\n\tvisibility: collapse;\n}\n\nform {\n\tdisplay: flex;\n\twidth: 100%;\n\tflex-direction: column;\n}\n",""])},function(t,n,e){(t.exports=e(0)(!1)).push([t.i,"form-input {\n\tpadding: 10px 5px;\n\tdisplay: flex;\n}\n\n.result {\n\tcolor: #ffb270;\n\tpadding: 10px 0px;\n}\n\ninput[type=submit] {\n\tvisibility: collapse;\n\tflex-basis: 300px;\n}\n\nform {\n\tdisplay: flex;\n\twidth: 100%;\n\tflex-direction: column;\n\tmargin-bottom: 5px;\n}\n\n.message {\n\tcolor: black;\t\n\tbackground: #C691D4;\n\tpadding: 0px 15px;\n\tmargin-top: 15px;\n\tmargin-bottom: 15px;\n\talign-self: flex-end;\n\tfont-size: 40px\n}\n.friend_message {\n\tbackground: #EDDEF2;\n\tpadding: 15px;\n\tmargin-top: 15px;\n\tmargin-bottom: 15px;\n\talign-self: flex-start;\n\tfont-size: 40px\n}\n\nimg {\n\twidth: 90%;\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n\talign-self: flex-end;\n}\n",""])},function(t,n,e){"use strict";e.r(n);e(5);var o=e(1);const i=`\n\t<style>${e.n(o).a.toString()}</style>\n\t<input type = "text" name="message_text" placeholder="Cообщение">\n\t<button id = "submit"><img src="../../static/mailsend_104372.png"></button>\n\t<label for="attach" class="attachButton">\n\t\t<img src="../../static/attach-rotated_icon-icons.com_68593.png">\n\t</label>\n\t<input type="file" id="attach" name="input" style="display:none">\n\t<button id="geoposition">\n\t\t<img src="../../static/locationmarker_102659.png ">\n\t</button>\n`;customElements.define("form-input",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=i,this._initElements(),this._addHandlers()}static get observedAttributes(){return["name","placeholder","value","disabled"]}attributeChangedCallback(t,n,e){this._elements.input[t]=e}_initElements(){var t=document.createElement("input"),n=this.shadowRoot.querySelector("input"),e=this.shadowRoot.querySelector("button"),o=this.shadowRoot.querySelector("geoposition");this.appendChild(t),this._elements={input:n,hiddenInput:t,button:e,geoButton:o}}_addHandlers(){this._elements.input.addEventListener("input",this._onInput.bind(this)),this._elements.button.addEventListener("click",this._onInput.bind(this)),this._elements.geoButton.addEventListener("click",this._geoposition.bind(this))}_onInput(){this._elements.hiddenInput.value=this._elements.input.value}_geoposition(){var t;new Promise((n,e)=>{navigator.geolocation.getCurrentPosition(n,error,t)}).then(t=>this._elements.input.value(t.coords))}});var s=e(2);const r=`\n\t<style>\n\n${e.n(s).a.toString()}\n\t\t\n\t</style>\n\t<form>\n\t\t<form-input name="message_text" slot="message-input">\n\t\t</form-input>\n\t</form>\n`;customElements.define("message-form",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=r,this._initElements(),this._addHandlers()}});var a=e(3);const l=`\n\t<style>${e.n(a).a.toString()}</style>\n\t<div id="container"></div>\n\t<div class="friend_message">Hi!</div>\n\n`;customElements.define("message-list",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=l,this._initElements(),this._addHandlers()}_initElements(){var t=document.querySelector("message-form"),n=document.querySelector("message-list"),e=t.shadowRoot.querySelector("form"),o=t.shadowRoot.querySelector("form-input"),i=o.shadowRoot.getElementById("submit"),s=o.shadowRoot.getElementById("attach");this._elements={form:e,mesForm:t,input:n,submitButton:i,attachButton:s,forminp:o}}_addHandlers(){this._elements.forminp.addEventListener("keypress",this._onKeyPress.bind(this),!0),this._elements.submitButton.addEventListener("click",this._onSubmit.bind(this)),this._elements.attachButton.addEventListener("change",this._loadFile.bind(this),!1)}_onKeyPress(t){if(13==t.keyCode){var n=document.createElement("div");if(this._elements.form.elements[0].value){var e=this._elements.form.elements[0].value;n.innerHTML=e,n.className="message",this.shadowRoot.appendChild(n)}}}_onSubmit(t){var n=document.createElement("div"),e=this._elements.form.elements[0].value;n.innerHTML=e,n.className="message",this.shadowRoot.appendChild(n),new Headers;var o=new FormData;o.append("message",e),fetch("http://localhost:8081",{mode:"no-cors"},{method:"POST",body:o,mode:"cors",cache:"default"}).then(function(t){return console.log("0"),t.blob()}).then(function(t){document.querySelector("message-list").shadowRoot.lastElementChild.innerHTML=e})}_loadFile(t){var n=this.shadowRoot,e=t.target.files[0],o=new FileReader;o.onload=function(t){var e=document.createElement("div");e.innerHTML=o.result,e.className="message",n.appendChild(e)},o.readAsDataURL(e)}});e(6)},function(t,n){},function(t,n){t.exports={page:"index__page___2D4SI"}}]);